{"nodes":{"registerVehicleData":{"action":"register","parameters":{"label":"Vehicle Data","name":"Vehicle_Data"},"sources":["computeAdditional"]},"augmentVehicleOwner":{"action":"augment","parameters":{"leftKey":["Vehicle_ref__c"],"operation":"LookupSingleValue","relationship":"VehicleOwner","rightKey":["Vehicle_ref__c"],"rightSelect":["Account_ref__c","Contract__c","EndDate__c","Id","StartDate__c","VehicleOwnershipGlobalExternalId__c","Vehicle_ref__c"]},"sources":["augmentVehicle","sfdcDigestVehicleOwnership"]},"sfdcDigestVehicle":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"Name"},{"name":"ProductGlobalExternalId__c"},{"name":"VehicleIdentificationNumber__c"}],"object":"Vehicle__c"}},"augmentAccount":{"action":"augment","parameters":{"leftKey":["VehicleOwner.Account_ref__c"],"operation":"LookupSingleValue","relationship":"Account","rightKey":["Id"],"rightSelect":["AccountNumber","AccountSource","Active__c","FirstName","LastName","Name","Id"]},"sources":["augmentContract","sfdcDigestAccount"]},"sfdcContract":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"ExtraMileCost__c"},{"name":"EndDate"},{"name":"MilesLimit__c"},{"name":"StartDate"},{"name":"Status"},{"name":"StatusCode"},{"name":"ContractNumber"},{"name":"AccountId"},{"name":"Dealership_ref__c"},{"name":"ContractTerm"}],"object":"Contract"}},"sfdcDigestDealership":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Id"},{"name":"Name"},{"name":"Street__c"},{"name":"City__c"},{"name":"Country__c"}],"object":"Dealership__c"}},"computeAdditional":{"action":"computeExpression","parameters":{"computedFields":[{"label":"NumOfMonthsAsOfToday","name":"NumOfMonthsAsOfToday","precision":18,"saqlExpression":"date_diff(\"month\", toDate('Contract.StartDate_sec_epoch'), now())","scale":2,"type":"Numeric"},{"label":"NumOfDaysAsOfToday","name":"NumOfDaysAsOfToday","precision":18,"saqlExpression":"date_diff(\"day\", toDate('Contract.StartDate_sec_epoch'), now())\n","scale":0,"type":"Numeric"},{"label":"ContractMonthlyMileageAvg","name":"ContractMonthlyMileageAvg","precision":15,"saqlExpression":"'Contract.MilesLimit__c'/'Contract.ContractTerm'","scale":3,"type":"Numeric"},{"label":"MileageAsOfToday","name":"MileageAsOfToday","precision":16,"saqlExpression":"ContractMonthlyMileageAvg*NumOfMonthsAsOfToday","scale":2,"type":"Numeric"}],"mergeWithSource":true},"sources":["augmentDealership"]},"augmentVehicle":{"action":"augment","parameters":{"leftKey":["Vehicle_ref__c"],"operation":"LookupSingleValue","relationship":"Vehicle","rightKey":["Id"],"rightSelect":["Id","Name","ProductGlobalExternalId__c","VehicleIdentificationNumber__c"]},"sources":["sfdcDigestVehicleData","sfdcDigestVehicle"]},"sfdcDigestAccount":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Active__c"},{"name":"AccountSource"},{"name":"AccountNumber"},{"name":"Name"},{"name":"LastName"},{"name":"FirstName"},{"name":"Id"}],"object":"Account"}},"augmentContract":{"action":"augment","parameters":{"leftKey":["VehicleOwner.Contract__c"],"operation":"LookupSingleValue","relationship":"Contract","rightKey":["Id"],"rightSelect":["ExtraMileCost__c","EndDate","MilesLimit__c","StartDate","Status","StatusCode","ContractNumber","Dealership_ref__c","ContractTerm","Id"]},"sources":["augmentVehicleOwner","sfdcContract"]},"augmentDealership":{"action":"augment","parameters":{"leftKey":["Contract.Dealership__c"],"operation":"LookupSingleValue","relationship":"Dealership","rightKey":["Id"],"rightSelect":["Name","Street__c","City__c","Country__c"]},"sources":["augmentAccount","sfdcDigestDealership"]},"sfdcDigestVehicleOwnership":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Account_ref__c"},{"name":"Contract__c"},{"name":"EndDate__c"},{"name":"Id"},{"name":"StartDate__c"},{"name":"Vehicle_ref__c"},{"name":"VehicleOwnershipGlobalExternalId__c"}],"object":"VehicleOwnership__c"}},"sfdcDigestVehicleData":{"action":"sobjectDigest","parameters":{"fields":[{"name":"Mileage__c"},{"name":"Id"},{"name":"Date_Sample__c"},{"name":"Vehicle_ref__c"}],"object":"VehicleData__c"}}}}